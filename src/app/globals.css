@import "tailwindcss";

@custom-variant dark (&:is(.dark *));

@theme {
  --font-sans: "Inter", ui-sans-serif, system-ui, -apple-system, sans-serif;
  --font-mono: "JetBrains Mono", ui-monospace, monospace;

  --color-background: #fafbfc;
  --color-foreground: #0f172a;
  --color-card: #ffffff;
  --color-card-foreground: #0f172a;
  --color-muted: #f1f5f9;
  --color-muted-foreground: #64748b;
  --color-faint: #94a3b8;
  --color-border: #e2e8f0;
  --color-input: #e2e8f0;
  --color-ring: #4f46e5;

  --color-primary: #4f46e5;
  --color-primary-hover: #4338ca;
  --color-primary-light: #818cf8;
  --color-primary-bg: #eef2ff;
  --color-primary-foreground: #ffffff;

  --color-accent: #7c3aed;
  --color-accent-bg: #f5f3ff;

  --color-success: #059669;
  --color-success-bg: #ecfdf5;
  --color-warning: #d97706;
  --color-warning-bg: #fffbeb;
  --color-danger: #dc2626;
  --color-danger-bg: #fef2f2;
  --color-danger-foreground: #ffffff;

  --color-gold: #d97706;
  --color-gold-bg: #fffbeb;
}

/* ─── Dark Mode Overrides ─── */
.dark {
  --color-background: #0b0f1a;
  --color-foreground: #f1f5f9;
  --color-card: #111827;
  --color-card-foreground: #f1f5f9;
  --color-muted: #1e293b;
  --color-muted-foreground: #94a3b8;
  --color-faint: #64748b;
  --color-border: #1e293b;
  --color-input: #1e293b;
  --color-ring: #818cf8;

  --color-primary: #818cf8;
  --color-primary-hover: #6366f1;
  --color-primary-light: #a5b4fc;
  --color-primary-bg: rgba(99, 102, 241, 0.12);
  --color-primary-foreground: #ffffff;

  --color-accent: #a78bfa;
  --color-accent-bg: rgba(167, 139, 250, 0.1);

  --color-success: #34d399;
  --color-success-bg: rgba(52, 211, 153, 0.1);
  --color-warning: #fbbf24;
  --color-warning-bg: rgba(251, 191, 36, 0.1);
  --color-danger: #f87171;
  --color-danger-bg: rgba(248, 113, 113, 0.1);
  --color-danger-foreground: #ffffff;

  --color-gold: #fbbf24;
  --color-gold-bg: rgba(251, 191, 36, 0.1);
}

/* ─── Base ─── */
* {
  border-color: var(--color-border);
}

html { scroll-behavior: smooth; }

body {
  background: var(--color-background);
  color: var(--color-foreground);
}

/* ─── AI Content Indicator ─── */
.ai-border {
  border-left: 3px solid;
  border-image: linear-gradient(to bottom, var(--color-primary), var(--color-accent)) 1;
}

/* ─── Streaming Cursor ─── */
.streaming-cursor::after {
  content: "▊";
  animation: cursor-blink 1s step-end infinite;
  color: var(--color-primary);
  margin-left: 1px;
}
@keyframes cursor-blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

/* ─── Confidence Slider Track ─── */
.confidence-track {
  background: linear-gradient(to right, var(--color-danger), var(--color-warning), var(--color-success)) !important;
  border-radius: 9999px;
}

/* ─── Subtle Grid Background ─── */
.bg-grid {
  background-image:
    linear-gradient(rgba(79, 70, 229, 0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(79, 70, 229, 0.03) 1px, transparent 1px);
  background-size: 48px 48px;
}
.dark .bg-grid {
  background-image:
    linear-gradient(rgba(129, 140, 248, 0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(129, 140, 248, 0.05) 1px, transparent 1px);
}

/* ─── Glow Effect ─── */
.glow {
  box-shadow: 0 0 40px rgba(79, 70, 229, 0.12);
}
.dark .glow {
  box-shadow: 0 0 50px rgba(129, 140, 248, 0.15);
}

/* ─── Print ─── */
@media print {
  .no-print { display: none !important; }
  body { background: white; color: black; }
}

/* ─── Scrollbar ─── */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--color-faint); border-radius: 9999px; }
